# ccms-ssm-document-service-actions.yaml
---
schemaVersion: "2.2"
description: Perform an action on a selected service.
parameters:
  action:
    type: String
    allowedValues:
    - status
    - start
    - stop
mainSteps:
  - name: statusAPP
    action: aws:runShellScript
    isEnd: true
    precondition:
      StringEquals:
        - "{{ action }}"
        - status
    inputs:
      runCommand:
        - "/home/applmgr/scripts/statusAPP.sh"
  - name: startAPP
    action: aws:runShellScript
    isEnd: true
    precondition:
      StringEquals:
        - "{{ action }}"
        - start
    inputs:
      runCommand:
        - "/home/applmgr/scripts/startAPP.sh"
  - name: stopAPP
    action: aws:runShellScript
    isEnd: true
    precondition:
      StringEquals:
        - "{{ action }}"
        - stop
    inputs:
      runCommand:
        - "/home/applmgr/scripts/stopAPP.sh"